<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Authorization | Hyperion</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="128x128" href="/icons/favicon-128x128.png">
    <link rel="icon" type="image/ico" href="/icons/favicon.ico">
    <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-828x1792.png">
    <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" href="/icons/apple-launch-1125x2436.png">
    <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)" href="/icons/apple-launch-1242x2688.png">
    <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-750x1334.png">
    <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3)" href="/icons/apple-launch-1242x2208.png">
    <link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-640x1136.png">
    <link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-1536x2048.png">
    <link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-1668x2224.png">
    <link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-1668x2388.png">
    <link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-2048x2732.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/icons/apple-icon-167x167.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#fff">
    <meta name="description" content="Hyperion Ambient Light documentation">
    <meta name="theme-color" content="#2b81a0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Hyperion Documentation">
    <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#2b81a0">
    <link rel="preload" href="/assets/css/0.styles.3ddb3bd4.css" as="style"><link rel="preload" href="/assets/js/app.9030b2f3.js" as="script"><link rel="preload" href="/assets/js/3.0ac31980.js" as="script"><link rel="preload" href="/assets/js/1.f5dba32e.js" as="script"><link rel="preload" href="/assets/js/10.0a2bd55b.js" as="script"><link rel="preload" href="/assets/js/26.cd43be55.js" as="script"><link rel="preload" href="/assets/js/6.cf85cf0b.js" as="script"><link rel="prefetch" href="/assets/js/11.75dd2ae5.js"><link rel="prefetch" href="/assets/js/12.5bc0c62a.js"><link rel="prefetch" href="/assets/js/13.6ecd0397.js"><link rel="prefetch" href="/assets/js/14.8c0e1577.js"><link rel="prefetch" href="/assets/js/15.5d042bf1.js"><link rel="prefetch" href="/assets/js/16.8a62f3b6.js"><link rel="prefetch" href="/assets/js/17.40c4ec2c.js"><link rel="prefetch" href="/assets/js/18.7b635bb2.js"><link rel="prefetch" href="/assets/js/19.d6279a43.js"><link rel="prefetch" href="/assets/js/20.0963349d.js"><link rel="prefetch" href="/assets/js/21.02a63d2f.js"><link rel="prefetch" href="/assets/js/22.cc86bc86.js"><link rel="prefetch" href="/assets/js/23.01ba2a74.js"><link rel="prefetch" href="/assets/js/24.a8ae85df.js"><link rel="prefetch" href="/assets/js/25.ab6dbb63.js"><link rel="prefetch" href="/assets/js/27.6cb80009.js"><link rel="prefetch" href="/assets/js/28.a900a97a.js"><link rel="prefetch" href="/assets/js/29.3cd1fc77.js"><link rel="prefetch" href="/assets/js/30.a3abc186.js"><link rel="prefetch" href="/assets/js/31.566be66b.js"><link rel="prefetch" href="/assets/js/32.edaadfce.js"><link rel="prefetch" href="/assets/js/33.9aaee7aa.js"><link rel="prefetch" href="/assets/js/34.15d2ac32.js"><link rel="prefetch" href="/assets/js/35.ba8332a3.js"><link rel="prefetch" href="/assets/js/36.e77e052d.js"><link rel="prefetch" href="/assets/js/37.f49d1edc.js"><link rel="prefetch" href="/assets/js/38.61d3acfd.js"><link rel="prefetch" href="/assets/js/39.113f9665.js"><link rel="prefetch" href="/assets/js/4.54a9a56e.js"><link rel="prefetch" href="/assets/js/40.e2f05e82.js"><link rel="prefetch" href="/assets/js/41.c5179a13.js"><link rel="prefetch" href="/assets/js/42.945a11f3.js"><link rel="prefetch" href="/assets/js/43.b2d42213.js"><link rel="prefetch" href="/assets/js/44.96f7ba88.js"><link rel="prefetch" href="/assets/js/45.78061eab.js"><link rel="prefetch" href="/assets/js/46.0e2b50be.js"><link rel="prefetch" href="/assets/js/47.35f8a693.js"><link rel="prefetch" href="/assets/js/48.c4d7c445.js"><link rel="prefetch" href="/assets/js/49.04ea5c92.js"><link rel="prefetch" href="/assets/js/5.594babaf.js"><link rel="prefetch" href="/assets/js/50.4605d7a7.js"><link rel="prefetch" href="/assets/js/51.d2b716c0.js"><link rel="prefetch" href="/assets/js/52.f6d03f74.js"><link rel="prefetch" href="/assets/js/53.0158d13b.js"><link rel="prefetch" href="/assets/js/54.f6befefc.js"><link rel="prefetch" href="/assets/js/55.b2f79fd2.js"><link rel="prefetch" href="/assets/js/56.3969e71f.js"><link rel="prefetch" href="/assets/js/57.325fa59b.js"><link rel="prefetch" href="/assets/js/58.8707d6c0.js"><link rel="prefetch" href="/assets/js/59.d0b0ac38.js"><link rel="prefetch" href="/assets/js/60.b9ffb2c5.js"><link rel="prefetch" href="/assets/js/61.2c4ec4bf.js"><link rel="prefetch" href="/assets/js/62.6fd4f822.js"><link rel="prefetch" href="/assets/js/63.1d9b4462.js"><link rel="prefetch" href="/assets/js/64.31f6b3e1.js"><link rel="prefetch" href="/assets/js/65.7789b7fc.js"><link rel="prefetch" href="/assets/js/66.64c8734e.js"><link rel="prefetch" href="/assets/js/67.f7442d38.js"><link rel="prefetch" href="/assets/js/68.b8478e5b.js"><link rel="prefetch" href="/assets/js/69.2f30028f.js"><link rel="prefetch" href="/assets/js/7.335903c7.js"><link rel="prefetch" href="/assets/js/70.bac01f8a.js"><link rel="prefetch" href="/assets/js/71.6f14c26c.js"><link rel="prefetch" href="/assets/js/72.695f072b.js"><link rel="prefetch" href="/assets/js/73.0a73952e.js"><link rel="prefetch" href="/assets/js/74.29e3a91d.js"><link rel="prefetch" href="/assets/js/8.92cddac7.js"><link rel="prefetch" href="/assets/js/9.dfd98fa8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3ddb3bd4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="" alt="Hyperion Logo" class="logo"> <span class="site-name">
        Hyperion
    </span></a> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/user/" class="nav-link">
  User
</a></div><div class="nav-item"><a href="/en/effects/" class="nav-link">
  Effects
</a></div><div class="nav-item"><a href="/en/json/" class="nav-link router-link-active">
  Json API
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/json/Authorization.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/de/" class="nav-link">
  Deutsch
</a></li></ul></div></div> <a href="https://hyperion-project.org/forum/" target="_blank" rel="noopener noreferrer" class="repo-link">
    Forum
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <!----></nav> <div class="links" style="max-width:nullpx;"><div class="theme-toggler" data-v-32ad0073><a data-v-32ad0073><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun" data-v-32ad0073><circle cx="12" cy="12" r="5" data-v-32ad0073></circle> <line x1="12" y1="1" x2="12" y2="3" data-v-32ad0073></line> <line x1="12" y1="21" x2="12" y2="23" data-v-32ad0073></line> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-v-32ad0073></line> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-v-32ad0073></line> <line x1="1" y1="12" x2="3" y2="12" data-v-32ad0073></line> <line x1="21" y1="12" x2="23" y2="12" data-v-32ad0073></line> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-v-32ad0073></line> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-v-32ad0073></line></svg></a></div> <!----> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en/user/" class="nav-link">
  User
</a></div><div class="nav-item"><a href="/en/effects/" class="nav-link">
  Effects
</a></div><div class="nav-item"><a href="/en/json/" class="nav-link router-link-active">
  Json API
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/json/Authorization.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/de/" class="nav-link">
  Deutsch
</a></li></ul></div></div> <a href="https://hyperion-project.org/forum/" target="_blank" rel="noopener noreferrer" class="repo-link">
    Forum
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JSON</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/json/" aria-current="page" class="sidebar-link">JSON RPC Introduction</a></li><li><a href="/en/json/ServerInfo.html" class="sidebar-link">Server Information</a></li><li><a href="/en/json/Control.html" class="sidebar-link">Control</a></li><li><a href="/en/json/Authorization.html" aria-current="page" class="active sidebar-link">Authorization</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/json/Authorization.html#authorization" class="sidebar-link">Authorization</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/json/Authorization.html#token-system" class="sidebar-link">Token System</a></li><li class="sidebar-sub-header"><a href="/en/json/Authorization.html#authorization-check" class="sidebar-link">Authorization Check</a></li><li class="sidebar-sub-header"><a href="/en/json/Authorization.html#login-with-token" class="sidebar-link">Login with Token</a></li><li class="sidebar-sub-header"><a href="/en/json/Authorization.html#login-with-token-over-http-s" class="sidebar-link">Login with Token over HTTP/S</a></li><li class="sidebar-sub-header"><a href="/en/json/Authorization.html#logout" class="sidebar-link">Logout</a></li><li class="sidebar-sub-header"><a href="/en/json/Authorization.html#request-a-token" class="sidebar-link">Request a Token</a></li></ul></li></ul></li><li><a href="/en/json/Subscribe.html" class="sidebar-link">Subscription</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Misc</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/api/Detect.html" class="sidebar-link">Detect Hyperion</a></li><li><a href="/en/api/Guidelines.html" class="sidebar-link">Guidelines</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="authorization"><a href="#authorization" class="header-anchor">#</a> Authorization</h2> <p>Hyperion has an authorization system allowing users to login via password, and
applications to login with tokens. The user can configure how strong or weak the Hyperion API
should be protected from the <code>Configuration</code> -&gt; <code>Network Services</code> panel on the Web UI.</p> <p></p><div class="table-of-contents"><ul><li><a href="#authorization">Authorization</a><ul><li><a href="#token-system">Token System</a></li><li><a href="#authorization-check">Authorization Check</a></li><li><a href="#login-with-token">Login with Token</a></li><li><a href="#login-with-token-over-http-s">Login with Token over HTTP/S</a></li><li><a href="#logout">Logout</a></li><li><a href="#request-a-token">Request a Token</a></li></ul></li></ul></div><p></p> <h3 id="token-system"><a href="#token-system" class="header-anchor">#</a> Token System</h3> <p>Tokens are a simple way to authenticate an App for API access. They can be created in
the UI on the <code>Configuration</code> -&gt; <code>Network Services</code> panel (the panel appears when <code>API Authentication</code> options is checked). Your application can also <a href="#request-a-token">request a
token</a> via the API.</p> <h3 id="authorization-check"><a href="#authorization-check" class="header-anchor">#</a> Authorization Check</h3> <p>Callers can check whether authorization is required to work with the API, by sending:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;command&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;authorize&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;subcommand&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;tokenRequired&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>If the property <code>required</code> is true, authentication is required. An example response:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;command&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;authorize-tokenRequired&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;info&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;required&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;success&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tan&quot;</span> <span class="token operator">:</span><span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="login-with-token"><a href="#login-with-token" class="header-anchor">#</a> Login with Token</h3> <p>Login with a token as follows -- the caller will receive a <a href="#login-response">Login response</a>.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;command&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;authorize&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;subcommand&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;login&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;token&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;YourPrivateTokenHere&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="login-with-token-over-http-s"><a href="#login-with-token-over-http-s" class="header-anchor">#</a> Login with Token over HTTP/S</h3> <p>Add the HTTP Authorization header to every request. On error, the user will get a failed <a href="#login-response">Login response</a>.</p> <div class="language-http extra-class"><pre class="language-http"><code>  Authorization : token YourPrivateTokenHere
</code></pre></div><h4 id="login-response"><a href="#login-response" class="header-anchor">#</a> Login response</h4> <p>A successful login response:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;command&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;authorize-login&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;success&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tan&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre></div><p>A failed login response:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;command&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;authorize-login&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;error&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;No Authorization&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;success&quot;</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tan&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="logout"><a href="#logout" class="header-anchor">#</a> Logout</h3> <p>Users can also logout. Hyperion doesn't verify the login state, this call will always
return a success.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;command&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;authorize&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;subcommand&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;logout&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Response:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;command&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;authorize-logout&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;success&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tan&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Logging out will stop all streaming data services and subscriptions</p></div> <h3 id="request-a-token"><a href="#request-a-token" class="header-anchor">#</a> Request a Token</h3> <p>Here is the recommended workflow for your application to authenticate:</p> <ul><li>Ask Hyperion for a token along with a comment (a short meaningful string that
identifies the caller is the most useful, e.g. includes an application name and
device) and a short randomly created <code>id</code> (numbers/letters).</li> <li>Wait for the response. The user will need to accept the token request from the Web UI.</li> <li>On success: The call will return a UUID token that can be repeatedly used. Note that
access could be revoked by the user at any time, but will continue to last for
currently connected sessions in this case.</li> <li>On error: The call won't get a token, which means the user either denied the request or it timed out (180s).</li></ul> <p>Request a token using the follow command, being sure to add a comment that is
descriptive enough for the Web UI user to make a decision as to whether to grant or deny
the request. The <code>id</code> field has 5 random chars created by the caller, which will appear
in the Web UI as the user considers granting their approval.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;command&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;authorize&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;subcommand&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;requestToken&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;comment&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;OpenHab 2 Binding&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;T3c91&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>After the call, a popup will appear in the Web UI to accept/reject the token request.
The calling application should show the comment and the id so that the user can confirm
the origin properly in the Hyperion UI. After 180 seconds without a user action, the
request is automatically rejected, and the caller will get a failure response (see below).</p> <h4 id="success-response"><a href="#success-response" class="header-anchor">#</a> Success response</h4> <p>If the user accepted the token request the caller will get the following response:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;command&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;authorize-requestToken&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;success&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;comment&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;OpenHab2 Binding&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;T3c91&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;token&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;YourPrivateTokenHere&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Save the token somewhere for further use. The token does not expire.</li> <li>Be aware that a user can revoke the token. It will continue to function for currently connected sessions.</li></ul> <h4 id="failed-response"><a href="#failed-response" class="header-anchor">#</a> Failed response</h4> <p>A request will fail when either:</p> <ul><li>It times out (i.e. user neither approves nor rejects for 180 seconds after the request
is sent).</li> <li>User rejects the request.</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;command&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;authorize-requestToken&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;success&quot;</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;error&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;Token request timeout or denied&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="request-abort"><a href="#request-abort" class="header-anchor">#</a> Request abort</h4> <p>You can abort the token request by adding an &quot;accept&quot; property to the original request.
The request will be deleted:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;command&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;authorize&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;subcommand&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;requestToken&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;comment&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;OpenHab 2 Binding&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;T3c91&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;accept&quot;</span> <span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/hyperion-project/hyperion.docs/edit/main/docs/en/json/Authorization.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/21/2021, 5:21:08 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/en/json/Control.html" class="prev">
        Control
      </a></span> <span class="next"><a href="/en/json/Subscribe.html">
        Subscription
      </a>
      →
    </span></p></div> </main></div></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.9030b2f3.js" defer></script><script src="/assets/js/3.0ac31980.js" defer></script><script src="/assets/js/1.f5dba32e.js" defer></script><script src="/assets/js/10.0a2bd55b.js" defer></script><script src="/assets/js/26.cd43be55.js" defer></script><script src="/assets/js/6.cf85cf0b.js" defer></script>
  </body>
</html>
